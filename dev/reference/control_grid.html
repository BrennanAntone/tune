<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Control aspects of the grid search process — control_grid • tune</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="../tidyverse.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../tidyverse-2.css" rel="stylesheet"><!--optional theme--><link href="../tidymodels.css" rel="stylesheet"><meta property="og:title" content="Control aspects of the grid search process — control_grid"><meta property="og:description" content="Control aspects of the grid search process"><meta property="og:image" content="https://tune.tidymodels.org/logo.png"><meta name="twitter:card" content="summary"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">tune</a>
        <div class="info hidden-xs hidden-sm">
          <span class="partof">part of <a href="https://tidymodels.org" class="external-link">tidymodels</a></span>
          <span class="version version-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.1.6.9002</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right"><li>
  <a href="../articles/getting_started.html">Getting Started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://www.tidymodels.org/learn/work/tune-svm/" class="external-link">Grid Search</a>
    </li>
    <li>
      <a href="../articles/acquisition_functions.html">Acquisition Functions</a>
    </li>
    <li>
      <a href="https://www.tidymodels.org/learn/work/bayes-opt/" class="external-link">Bayesian Optimization of Classification Model</a>
    </li>
    <li>
      <a href="../articles/extras/optimizations.html">Optimizations and Parallel Processing</a>
    </li>
    <li>
      <a href="https://www.tidymodels.org/learn/work/tune-text/" class="external-link">Text Analysis Example</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
        <li>
  <a href="https://github.com/tidymodels/tune/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Control aspects of the grid search process</h1>
    <small class="dont-index">Source: <a href="https://github.com/tidymodels/tune/blob/HEAD/R/control.R" class="external-link"><code>R/control.R</code></a></small>
    <div class="hidden name"><code>control_grid.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Control aspects of the grid search process</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">control_grid</span><span class="op">(</span>
  verbose <span class="op">=</span> <span class="cn">FALSE</span>,
  allow_par <span class="op">=</span> <span class="cn">TRUE</span>,
  extract <span class="op">=</span> <span class="cn">NULL</span>,
  save_pred <span class="op">=</span> <span class="cn">FALSE</span>,
  pkgs <span class="op">=</span> <span class="cn">NULL</span>,
  save_workflow <span class="op">=</span> <span class="cn">FALSE</span>,
  event_level <span class="op">=</span> <span class="st">"first"</span>,
  parallel_over <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span>

<span class="fu">control_resamples</span><span class="op">(</span>
  verbose <span class="op">=</span> <span class="cn">FALSE</span>,
  allow_par <span class="op">=</span> <span class="cn">TRUE</span>,
  extract <span class="op">=</span> <span class="cn">NULL</span>,
  save_pred <span class="op">=</span> <span class="cn">FALSE</span>,
  pkgs <span class="op">=</span> <span class="cn">NULL</span>,
  save_workflow <span class="op">=</span> <span class="cn">FALSE</span>,
  event_level <span class="op">=</span> <span class="st">"first"</span>,
  parallel_over <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>verbose</dt>
<dd><p>A logical for logging results (other than warnings and errors,
which are always shown) as they are generated during training in a single
R process. When using most parallel backends, this argument typically will
not result in any logging. If using a dark IDE theme, some logging messages
might be hard to see; try setting the <code>tidymodels.dark</code> option with
<code>options(tidymodels.dark = TRUE)</code> to print lighter colors.</p></dd>
<dt>allow_par</dt>
<dd><p>A logical to allow parallel processing (if a parallel
backend is registered).</p></dd>
<dt>extract</dt>
<dd><p>An optional function with at least one argument (or <code>NULL</code>)
that can be used to retain arbitrary objects from the model fit object,
recipe, or other elements of the workflow.</p></dd>
<dt>save_pred</dt>
<dd><p>A logical for whether the out-of-sample predictions should
be saved for each model <em>evaluated</em>.</p></dd>
<dt>pkgs</dt>
<dd><p>An optional character string of R package names that should be
loaded (by namespace) during parallel processing.</p></dd>
<dt>save_workflow</dt>
<dd><p>A logical for whether the workflow should be appended
to the output as an attribute.</p></dd>
<dt>event_level</dt>
<dd><p>A single string containing either <code>"first"</code> or <code>"second"</code>.
This argument is passed on to yardstick metric functions when any type
of class prediction is made, and specifies which level of the outcome
is considered the "event".</p></dd>
<dt>parallel_over</dt>
<dd><p>A single string containing either <code>"resamples"</code> or
<code>"everything"</code> describing how to use parallel processing. Alternatively,
<code>NULL</code> is allowed, which chooses between <code>"resamples"</code> and <code>"everything"</code>
automatically.</p>
<p>If <code>"resamples"</code>, then tuning will be performed in parallel over resamples
alone. Within each resample, the preprocessor (i.e. recipe or formula) is
processed once, and is then reused across all models that need to be fit.</p>
<p>If <code>"everything"</code>, then tuning will be performed in parallel at two levels.
An outer parallel loop will iterate over resamples. Additionally, an
inner parallel loop will iterate over all unique combinations of
preprocessor and model tuning parameters for that specific resample. This
will result in the preprocessor being re-processed multiple times, but
can be faster if that processing is extremely fast.</p>
<p>If <code>NULL</code>, chooses <code>"resamples"</code> if there are more than one resample,
otherwise chooses <code>"everything"</code> to attempt to maximize core utilization.</p>
<p>Note that switching between <code>parallel_over</code> strategies is not guaranteed
to use the same random number generation schemes. However, re-tuning a
model using the same <code>parallel_over</code> strategy is guaranteed to be
reproducible between runs.</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>For <code>extract</code>, this function can be used to output the model object, the
recipe (if used), or some components of either or both. When evaluated, the
function's sole argument has a fitted workflow If the formula method is used,
the recipe element will be <code>NULL</code>.</p>
<p>The results of the <code>extract</code> function are added to a list column in the
output called <code>.extracts</code>. Each element of this list is a tibble with tuning
parameter column and a list column (also called <code>.extracts</code>) that contains
the results of the function. If no extraction function is used, there is no
<code>.extracts</code> column in the resulting object. See <code><a href="tune_bayes.html">tune_bayes()</a></code> for more
specific details.</p>
<p>Note that for <code><a href="collect_predictions.html">collect_predictions()</a></code>, it is possible that each row of the
original data point might be represented multiple times per tuning
parameter. For example, if the bootstrap or repeated cross-validation are
used, there will be multiple rows since the sample data point has been
evaluated multiple times. This may cause issues when merging the predictions
with the original data.</p>
<p><code>control_resamples()</code> is an alias for <code>control_grid()</code> and is meant to be
used with <code><a href="fit_resamples.html">fit_resamples()</a></code>.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="tidyverse">
  <p>tune is a part of the <strong>tidymodels</strong> ecosystem, a collection of modeling packages designed with common APIs and a shared philosophy.</p>
</div>

<div class="author">
  <p>
    Developed by .
    Site built by <a href="https://pkgdown.r-lib.org" class="external-link">pkgdown</a>.
  </p>
</div>

      </footer></div>

  


  

  </body></html>

